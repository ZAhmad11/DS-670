{"paragraphs":[{"text":"import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess","dateUpdated":"2017-01-26T20:02:01-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485477655419_-426523938","id":"20170126-194055_314469472","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n"},"dateCreated":"2017-01-26T07:40:55-0500","dateStarted":"2017-01-26T20:02:01-0500","dateFinished":"2017-01-26T20:02:25-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:161","focus":true},{"text":"/** Configures the Oauth Credentials for accessing Twitter */\ndef configureTwitterCredentials(apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String) {\n  val configs = new HashMap[String, String] ++= Seq(\n    \"apiKey\" -> apiKey, \"apiSecret\" -> apiSecret, \"accessToken\" -> accessToken, \"accessTokenSecret\" -> accessTokenSecret)\n  println(\"Configuring Twitter OAuth\")\n  configs.foreach{ case(key, value) =>\n    if (value.trim.isEmpty) {\n      throw new Exception(\"Error setting authentication - value for \" + key + \" not set\")\n    }\n    val fullKey = \"twitter4j.oauth.\" + key.replace(\"api\", \"consumer\")\n    System.setProperty(fullKey, value.trim)\n    println(\"\\tProperty \" + fullKey + \" set as [\" + value.trim + \"]\")\n  }\n  println()\n}","dateUpdated":"2017-01-26T20:02:28-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485477726060_-1816313586","id":"20170126-194206_1878586752","result":{"code":"SUCCESS","type":"TEXT","msg":"\nconfigureTwitterCredentials: (apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String)Unit\n"},"dateCreated":"2017-01-26T07:42:06-0500","dateStarted":"2017-01-26T20:02:28-0500","dateFinished":"2017-01-26T20:02:31-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:162","focus":true},{"text":"// Configure Twitter credentials\nval apiKey = \"bA2rMrmjxgdqI5CbwGEojAchA\"\nval apiSecret = \"KlLXvQ3NSnyRYx7li2d96plRoMjYeyutu4uInUGzvcMLUrNAJV\"\nval accessToken = \"823235947311595520-sIh2tqK2yIMmIz7K9hfu6R6zacoDmAl\"\nval accessTokenSecret = \"rs4CPRUTwhOw25omXGvxnzSneE8emSbFnFoo0htdAdGig\"\nconfigureTwitterCredentials(apiKey, apiSecret, accessToken, accessTokenSecret)\n","dateUpdated":"2017-01-26T20:02:42-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485478048016_1641054234","id":"20170126-194728_533733274","result":{"code":"SUCCESS","type":"TEXT","msg":"\napiKey: String = bA2rMrmjxgdqI5CbwGEojAchA\n\napiSecret: String = KlLXvQ3NSnyRYx7li2d96plRoMjYeyutu4uInUGzvcMLUrNAJV\n\naccessToken: String = 823235947311595520-sIh2tqK2yIMmIz7K9hfu6R6zacoDmAl\n\naccessTokenSecret: String = rs4CPRUTwhOw25omXGvxnzSneE8emSbFnFoo0htdAdGig\nConfiguring Twitter OAuth\n\tProperty twitter4j.oauth.consumerKey set as [bA2rMrmjxgdqI5CbwGEojAchA]\n\tProperty twitter4j.oauth.accessToken set as [823235947311595520-sIh2tqK2yIMmIz7K9hfu6R6zacoDmAl]\n\tProperty twitter4j.oauth.consumerSecret set as [KlLXvQ3NSnyRYx7li2d96plRoMjYeyutu4uInUGzvcMLUrNAJV]\n\tProperty twitter4j.oauth.accessTokenSecret set as [rs4CPRUTwhOw25omXGvxnzSneE8emSbFnFoo0htdAdGig]\n\n"},"dateCreated":"2017-01-26T07:47:28-0500","dateStarted":"2017-01-26T20:02:42-0500","dateFinished":"2017-01-26T20:02:44-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:163","focus":true},{"text":"import org.apache.spark.streaming.twitter._\nval ssc = new StreamingContext(sc, Seconds(2))\nval tweets = TwitterUtils.createStream(ssc, None)\nval twt = tweets.window(Seconds(60))\n\ncase class Tweet(createdAt:Long, text:String)\ntwt.map(status=>\n  Tweet(status.getCreatedAt().getTime()/1000, status.getText())\n).foreachRDD(rdd=>\n  // Below line works only in spark 1.3.0.\n  // For spark 1.1.x and spark 1.2.x,\n  // use rdd.registerTempTable(\"tweets\") instead.\n  rdd.toDF().registerTempTable(\"tweets\")\n)\n\ntwt.print\n\nssc.start()","dateUpdated":"2017-01-26T20:03:07-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485478185344_929484951","id":"20170126-194945_1131439686","dateCreated":"2017-01-26T07:49:45-0500","dateStarted":"2017-01-26T20:03:07-0500","dateFinished":"2017-01-26T20:03:13-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:164","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@6ed6f920\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] = org.apache.spark.streaming.twitter.TwitterInputDStream@5bcd38db\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] = org.apache.spark.streaming.dstream.WindowedDStream@fa7e9f\n\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"},"focus":true},{"text":"%sql select * from tweets where text like '%trump%' limit 10","dateUpdated":"2017-01-26T20:04:04-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"createdAt","index":0,"aggr":"sum"}],"values":[{"name":"text","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"createdAt","index":0,"aggr":"sum"},"yAxis":{"name":"text","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485478209767_-74679030","id":"20170126-195009_238014000","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\ttext\n1485479014\tRT @mcleod: No one should be over it https://t.co/GepmBk4VUk @potus @realDonaldTrump #trump #trumpsamerica https://t.co/0ktu84zYPG\n","comment":"","msgTable":[[{"key":"text","value":"1485479014"},{"key":"text","value":"RT @mcleod: No one should be over it https://t.co/GepmBk4VUk @potus @realDonaldTrump #trump #trumpsamerica https://t.co/0ktu84zYPG"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"text","index":1,"aggr":"sum"}],"rows":[["1485479014","RT @mcleod: No one should be over it https://t.co/GepmBk4VUk @potus @realDonaldTrump #trump #trumpsamerica https://t.co/0ktu84zYPG"]]},"dateCreated":"2017-01-26T07:50:09-0500","dateStarted":"2017-01-26T20:04:04-0500","dateFinished":"2017-01-26T20:04:05-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:165","focus":true},{"text":"%sql\nselect createdAt, count(1) from tweets group by createdAt order by createdAt","dateUpdated":"2017-01-26T20:04:39-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485478372327_1537832615","id":"20170126-195252_1063490945","dateCreated":"2017-01-26T07:52:52-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:166","dateFinished":"2017-01-26T20:04:43-0500","dateStarted":"2017-01-26T20:04:39-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\tcount(1)\n1485479016\t54\n1485479017\t43\n1485479018\t47\n1485479019\t43\n1485479020\t48\n1485479021\t38\n1485479022\t42\n1485479023\t31\n1485479024\t49\n1485479025\t41\n1485479026\t36\n1485479027\t42\n1485479028\t43\n1485479029\t41\n1485479030\t41\n1485479031\t58\n1485479032\t35\n1485479033\t36\n1485479034\t44\n1485479035\t44\n1485479036\t50\n1485479037\t40\n1485479038\t42\n1485479039\t52\n1485479040\t52\n1485479041\t34\n1485479042\t48\n1485479043\t58\n1485479044\t38\n1485479045\t57\n1485479046\t31\n1485479047\t32\n1485479048\t41\n1485479049\t38\n1485479050\t46\n1485479051\t49\n1485479052\t45\n1485479053\t47\n1485479054\t36\n1485479055\t46\n1485479056\t40\n1485479057\t51\n1485479058\t30\n1485479059\t40\n1485479060\t39\n1485479061\t38\n1485479062\t42\n1485479063\t51\n1485479064\t50\n1485479065\t43\n1485479066\t34\n1485479067\t37\n1485479068\t49\n1485479069\t41\n1485479070\t34\n1485479071\t51\n1485479072\t44\n1485479073\t52\n1485479074\t44\n1485479075\t49\n","comment":"","msgTable":[[{"key":"count(1)","value":"1485479016"},{"key":"count(1)","value":"54"}],[{"value":"1485479017"},{"value":"43"}],[{"value":"1485479018"},{"value":"47"}],[{"value":"1485479019"},{"value":"43"}],[{"value":"1485479020"},{"value":"48"}],[{"value":"1485479021"},{"value":"38"}],[{"value":"1485479022"},{"value":"42"}],[{"value":"1485479023"},{"value":"31"}],[{"value":"1485479024"},{"value":"49"}],[{"value":"1485479025"},{"value":"41"}],[{"value":"1485479026"},{"value":"36"}],[{"value":"1485479027"},{"value":"42"}],[{"value":"1485479028"},{"value":"43"}],[{"value":"1485479029"},{"value":"41"}],[{"value":"1485479030"},{"value":"41"}],[{"value":"1485479031"},{"value":"58"}],[{"value":"1485479032"},{"value":"35"}],[{"value":"1485479033"},{"value":"36"}],[{"value":"1485479034"},{"value":"44"}],[{"value":"1485479035"},{"value":"44"}],[{"value":"1485479036"},{"value":"50"}],[{"value":"1485479037"},{"value":"40"}],[{"value":"1485479038"},{"value":"42"}],[{"value":"1485479039"},{"value":"52"}],[{"value":"1485479040"},{"value":"52"}],[{"value":"1485479041"},{"value":"34"}],[{"value":"1485479042"},{"value":"48"}],[{"value":"1485479043"},{"value":"58"}],[{"value":"1485479044"},{"value":"38"}],[{"value":"1485479045"},{"value":"57"}],[{"value":"1485479046"},{"value":"31"}],[{"value":"1485479047"},{"value":"32"}],[{"value":"1485479048"},{"value":"41"}],[{"value":"1485479049"},{"value":"38"}],[{"value":"1485479050"},{"value":"46"}],[{"value":"1485479051"},{"value":"49"}],[{"value":"1485479052"},{"value":"45"}],[{"value":"1485479053"},{"value":"47"}],[{"value":"1485479054"},{"value":"36"}],[{"value":"1485479055"},{"value":"46"}],[{"value":"1485479056"},{"value":"40"}],[{"value":"1485479057"},{"value":"51"}],[{"value":"1485479058"},{"value":"30"}],[{"value":"1485479059"},{"value":"40"}],[{"value":"1485479060"},{"value":"39"}],[{"value":"1485479061"},{"value":"38"}],[{"value":"1485479062"},{"value":"42"}],[{"value":"1485479063"},{"value":"51"}],[{"value":"1485479064"},{"value":"50"}],[{"value":"1485479065"},{"value":"43"}],[{"value":"1485479066"},{"value":"34"}],[{"value":"1485479067"},{"value":"37"}],[{"value":"1485479068"},{"value":"49"}],[{"value":"1485479069"},{"value":"41"}],[{"value":"1485479070"},{"value":"34"}],[{"value":"1485479071"},{"value":"51"}],[{"value":"1485479072"},{"value":"44"}],[{"value":"1485479073"},{"value":"52"}],[{"value":"1485479074"},{"value":"44"}],[{"value":"1485479075"},{"value":"49"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["1485479016","54"],["1485479017","43"],["1485479018","47"],["1485479019","43"],["1485479020","48"],["1485479021","38"],["1485479022","42"],["1485479023","31"],["1485479024","49"],["1485479025","41"],["1485479026","36"],["1485479027","42"],["1485479028","43"],["1485479029","41"],["1485479030","41"],["1485479031","58"],["1485479032","35"],["1485479033","36"],["1485479034","44"],["1485479035","44"],["1485479036","50"],["1485479037","40"],["1485479038","42"],["1485479039","52"],["1485479040","52"],["1485479041","34"],["1485479042","48"],["1485479043","58"],["1485479044","38"],["1485479045","57"],["1485479046","31"],["1485479047","32"],["1485479048","41"],["1485479049","38"],["1485479050","46"],["1485479051","49"],["1485479052","45"],["1485479053","47"],["1485479054","36"],["1485479055","46"],["1485479056","40"],["1485479057","51"],["1485479058","30"],["1485479059","40"],["1485479060","39"],["1485479061","38"],["1485479062","42"],["1485479063","51"],["1485479064","50"],["1485479065","43"],["1485479066","34"],["1485479067","37"],["1485479068","49"],["1485479069","41"],["1485479070","34"],["1485479071","51"],["1485479072","44"],["1485479073","52"],["1485479074","44"],["1485479075","49"]]},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479072424_-1378938930","id":"20170126-200432_1603043427","dateCreated":"2017-01-26T20:04:32-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:874","dateUpdated":"2017-01-26T20:05:26-0500","dateFinished":"2017-01-26T20:05:28-0500","dateStarted":"2017-01-26T20:05:26-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsentiment: (s: String)String\n\nres13: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"},"text":"def sentiment(s:String) : String = {\n    val positive = Array(\"like\", \"love\", \"good\", \"great\", \"happy\", \"cool\", \"the\", \"one\", \"that\")\n    val negative = Array(\"hate\", \"bad\", \"stupid\", \"is\")\n\n    var st = 0;\n\n    val words = s.split(\" \")    \n    positive.foreach(p =>\n        words.foreach(w =>\n            if(p==w) st = st+1\n        )\n    )\n\n    negative.foreach(p=>\n        words.foreach(w=>\n            if(p==w) st = st-1\n        )\n    )\n    if(st>0)\n        \"positivie\"\n    else if(st<0)\n        \"negative\"\n    else\n        \"neutral\"\n}\n\n// Below line works only in spark 1.3.0.\n// For spark 1.1.x and spark 1.2.x,\n// use sqlc.registerFunction(\"sentiment\", sentiment _) instead.\nsqlc.udf.register(\"sentiment\", sentiment _)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"UDF(text)","index":0,"aggr":"sum"}],"values":[{"name":"count(1)","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"UDF(text)","index":0,"aggr":"sum"},"yAxis":{"name":"count(1)","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479126852_-569183702","id":"20170126-200526_925739697","dateCreated":"2017-01-26T20:05:26-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:997","dateUpdated":"2017-01-26T20:05:48-0500","dateFinished":"2017-01-26T20:05:51-0500","dateStarted":"2017-01-26T20:05:48-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"UDF(text)\tcount(1)\nneutral\t3\n","comment":"","msgTable":[[{"key":"count(1)","value":"neutral"},{"key":"count(1)","value":"3"}]],"columnNames":[{"name":"UDF(text)","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["neutral","3"]]},"text":"%sql select sentiment(text), count(1) from tweets where text like '%trump%' group by sentiment(text)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479148465_248807784","id":"20170126-200548_1064768874","dateCreated":"2017-01-26T20:05:48-0500","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1079","dateUpdated":"2017-01-26T20:05:59-0500","text":""}],"name":"ZAhmad2","id":"2C8ZT64GK","angularObjects":{"2C7WCYSKG:shared_process":[],"2C9W4GD72:shared_process":[],"2C6WPJTW2:shared_process":[],"2C7VXPFUA:shared_process":[],"2C7R1NX3U:shared_process":[],"2C7V7KJB6:shared_process":[],"2C6QYT18J:shared_process":[],"2C8YGA6FT:shared_process":[],"2C8A981VG:shared_process":[],"2C8MC8UA6:shared_process":[],"2C6E45FTV:2C8ZT64GK":[],"2C647PC61:shared_process":[],"2C9N2Z53R:shared_process":[],"2C7M7FSE3:shared_process":[],"2C86Q39HV:shared_process":[],"2C9KCRBGN:shared_process":[],"2C6HMRGPT:shared_process":[],"2C8NHUQK2:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}